<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>Racquel: An Object/Relational Mapper for Racket</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Racquel:<span class="mywbr"> &nbsp;</span> An Object/<span class="mywbr"> &nbsp;</span>Relational Mapper for Racket</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._dataclass%29" class="tocviewlink" data-pltdoc="x">Data Class Mapping</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._generation%29" class="tocviewlink" data-pltdoc="x">Automated Data Class Generation</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._persistence%29" class="tocviewlink" data-pltdoc="x">Data Object Persistence</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._rql%29" class="tocviewlink" data-pltdoc="x">RQL:<span class="mywbr"> &nbsp;</span> The Racquel Query Language</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._mixins%29" class="tocviewlink" data-pltdoc="x">Data Object Serialization</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#(part._dataclass)" class="tocsubseclink" data-pltdoc="x">Data Class Mapping</a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._data-class*))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">data-<wbr></wbr>class*</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._data-class))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">data-<wbr></wbr>class</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._data-class~3f))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">data-<wbr></wbr>class?</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._data-class-info))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">data-<wbr></wbr>class-<wbr></wbr>info</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#(part._generation)" class="tocsubseclink" data-pltdoc="x">Automated Data Class Generation</a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._gen-data-class))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">gen-<wbr></wbr>data-<wbr></wbr>class</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._default-table-name-normalizer))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">default-<wbr></wbr>table-<wbr></wbr>name-<wbr></wbr>normalizer</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._default-column-name-normalizer))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">default-<wbr></wbr>column-<wbr></wbr>name-<wbr></wbr>normalizer</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._default-join-name-normalizer))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">default-<wbr></wbr>join-<wbr></wbr>name-<wbr></wbr>normalizer</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._default-table-name-externalizer))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">default-<wbr></wbr>table-<wbr></wbr>name-<wbr></wbr>externalizer</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._set-odbc-dbsystem-type!))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">set-<wbr></wbr>odbc-<wbr></wbr>dbsystem-<wbr></wbr>type!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#(part._persistence)" class="tocsubseclink" data-pltdoc="x">Data Object Persistence</a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._make-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">make-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._save-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">save-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._insert-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">insert-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._update-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">update-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._delete-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">delete-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._select-data-object))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">select-<wbr></wbr>data-<wbr></wbr>object</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._select-data-objects))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">select-<wbr></wbr>data-<wbr></wbr>objects</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._data-object-state))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">data-<wbr></wbr>object-<wbr></wbr>state</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._get-column))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">get-<wbr></wbr>column</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._set-column!))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">set-<wbr></wbr>column!</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._get-join))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">get-<wbr></wbr>join</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#(part._rql)" class="tocsubseclink" data-pltdoc="x">RQL:<span class="mywbr"> &nbsp;</span> The Racquel Query Language</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#(part._mixins)" class="tocsubseclink" data-pltdoc="x">Data Object Serialization</a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._json-data-class-mixin))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">json-<wbr></wbr>data-<wbr></wbr>class-<wbr></wbr>mixin</span></span></a></td></tr><tr><td><a href="#(form._((lib._racquel/main..rkt)._xml-data-class-mixin))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: racquel"><span class="RktSym">xml-<wbr></wbr>data-<wbr></wbr>class-<wbr></wbr>mixin</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Racquel__.An_.Object_.Relational_.Mapper_for_.Racket)"></a><a name="(mod-path._racquel)"></a>Racquel: An Object/Relational Mapper for Racket</h2><p>Racquel is an object/relational mapper for Racket. It consists of several components.</p><ul><li><p>An extension of Racket&rsquo;s class system that allows mapping of database tables to classes.</p></li><li><p>A generator that automatically creates mapped classes using database schema, including joins.</p></li><li><p>Persistence functions for selecting, saving, and deleting objects in the database.</p></li><li><p>An S-expression based SQL-like query language.</p></li><li><p>Mix-in classes for serializing objects to and from JSON or XML.</p></li></ul><p>Racquel supports connectivity to all the database systems provided by Racket&rsquo;s DB package, which are: MySQL, PostgreSQL,
SQLite3, and through ODBC: SQL Server, Oracle, and DB/2.</p><p>Racquel can be used by downloading and installing the package from <a href="http://planet.racket-lang.org/">PLaneT</a>.</p><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">racquel</span></a><span class="RktPn">)</span></td></tr></table></p><h3>1<tt>&nbsp;</tt><a name="(part._dataclass)"></a>Data Class Mapping</h3><p>Mapping of Racket classes to database tables is performed using <span class="RktSym">data-class</span>, which extends a Racket <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span> with
expressions for mapping a database table and columns to the data class. Below is an example of a <span class="RktSym">data-class</span> with mapping
expressions.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vehicle%</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">data-class</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28def._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._object~25%29%29" class="RktValLink" data-pltdoc="x">object%</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">table-name</span><span class="hspace">&nbsp;</span><span class="RktVal">"VEHICLE"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vehicle-id</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">"VEHICLE_ID"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">"MAKE"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">year</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">"YEAR"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">axels</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"AXELS"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">primary-key</span><span class="hspace">&nbsp;</span><span class="RktSym">vehicle-id</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">join</span><span class="hspace">&nbsp;</span><span class="RktSym">owner</span><span class="hspace">&nbsp;</span><span class="RktSym">customer%</span><span class="hspace">&nbsp;</span><span class="RktPn">#:cardinality</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">one-to-one</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">where</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">customer%</span><span class="hspace">&nbsp;</span><span class="RktSym">customer-id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vehicle%</span><span class="hspace">&nbsp;</span><span class="RktSym">customer-id</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._define%2Fpublic%29%29" class="RktStxLink" data-pltdoc="x">define/public</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wheels</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/ivaraccess.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._get-field%29%29" class="RktStxLink" data-pltdoc="x">get-field</a></span><span class="hspace">&nbsp;</span><span class="RktSym">axels</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._this%29%29" class="RktStxLink" data-pltdoc="x">this</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/objcreation.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._super-new%29%29" class="RktStxLink" data-pltdoc="x">super-new</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Here a database table named "VEHICLE" is mapped to the <span class="RktSym">vehicle%</span> data class. Columns are defined mapping the columns
of the table to a field of the data class, as well as default value for the field. There is also an expression which defines the
primary key. This table also has a join field <span class="RktSym">owner</span> which defines a one-to-one join to a <span class="RktSym">customer%</span> object.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._data-class*))"></a><span title="Provided from: racquel"><span class="RktSym">data-class*</span></span><span class="hspace">&nbsp;</span><span class="RktVar">superclass-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">interface-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data-class-clause</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">data-class-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">table-name</span><span class="hspace">&nbsp;</span><span class="RktSym">table-name</span><span class="hspace">&nbsp;</span><span class="RktVar">external-name</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">init-column</span><span class="hspace">&nbsp;</span><span class="RktVar">column-decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVar">column-decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">join</span><span class="hspace">&nbsp;</span><span class="RktVar">join-table-id</span><span class="hspace">&nbsp;</span><span class="RktVar">join-decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">primary-key</span><span class="hspace">&nbsp;</span><span class="RktVar">primary-key-decl</span><span class="hspace">&nbsp;</span><span class="RktVar">auto-increment-kw</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">class-clause</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">init-column-decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">maybe-renamed</span><span class="hspace">&nbsp;</span><span class="RktVar">column-name-decl</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">maybe-renamed</span><span class="hspace">&nbsp;</span><span class="RktVar">default-value-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">column-name-decl</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">column-decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">maybe-renamed</span><span class="hspace">&nbsp;</span><span class="RktVar">default-value-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">column-name</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-renamed</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">internal-id</span><span class="hspace">&nbsp;</span><span class="RktVar">external-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">column-name-decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">column-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">column-name</span><span class="hspace">&nbsp;</span><span class="RktVar">external-name</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">join-decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">join-name</span><span class="hspace">&nbsp;</span><span class="RktVar">joined-table-id</span><span class="hspace">&nbsp;</span><span class="RktVar">cardinality-kw</span><span class="hspace">&nbsp;</span><span class="RktVar">where-clause</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">cardinality-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:cardinality</span><span class="hspace">&nbsp;</span><span class="RktVar">cardinality-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">primary-key-decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">column-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">column-ids</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">auto-increment-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:auto-increment</span><span class="hspace">&nbsp;</span><span class="RktVar">auto-increment-expr</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Produces a data class value used for persisting data objects from a database.</div></p><p>The <span class="RktSym">table-name</span> expression is a string that names the database table that the data class is mapped to. An
optional external class name can also be defined. This external name is used when the class is exported
to JSON or XML using the Racquel data class mixins.</p><p>The <span class="RktSym">column</span> and <span class="RktSym">init-column</span> are analogous to class <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._field%29%29" class="RktStxLink" data-pltdoc="x">field</a></span> and <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._init-field%29%29" class="RktStxLink" data-pltdoc="x">init-field</a></span>
expressions. The difference being that columns are mapped to columns of a database and are persistent. A data class
may also contain <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._field%29%29" class="RktStxLink" data-pltdoc="x">field</a></span> columns, but the fields, as they are not mapped to database columns are not persisted.</p><p>Data classes can map joins to other data classes, using a <span class="RktSym">join</span> expression so that objects related to
the object can be contained as part of the object.  For example a join can be defined so that a field of the object
can contain a list of order for a customer. The path of a the join is defined using an RQL expression (see <a href="#%28part._rql%29" data-pltdoc="x">RQL: The Racquel Query Language</a>)
which allows for considerable flexibility in regard to what the contained objects are, e.g. a join could be defined so that
only customer order in the last six months are contained in the object. The cardinality of the join is also definable using a
keyword. Valid values for the cardinality keyword are <span class="RktVal">'</span><span class="RktVal">one-to-one</span> and <span class="RktVal">'</span><span class="RktVal">one-to-many</span>.</p><p>Joined objects are loaded lazily, that is, they are not loaded from the database until they are first referenced.</p><p>The <span class="RktSym">primary-key</span> expression defines the primary key for the mapped table. If a primary key consists of multiple parts
then the columns must be defined in a list. An optional keyword <span class="RktPn">#:auto-increment</span> can be used to indicate that the
primary key is an auto-incrementing a.k.a. identity column. Typically the value for this keyword is simply <span class="RktVal">#t</span>,
however if the type of database being mapped to is Postgres or Oracle, then the value of the keyword must be a string
defining the name of the sequence entity being used for the table.</p><p>A <span class="RktSym">data-class</span> automatically defines a <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._inspect%29%29" class="RktStxLink" data-pltdoc="x">inspect</a></span> with a value of <span class="RktVal">#f</span>, as class transparancy
is necessary for persistent mechanism. Therefore defining an <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._inspect%29%29" class="RktStxLink" data-pltdoc="x">inspect</a></span> expression will generate an error that
an <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._inspect%29%29" class="RktStxLink" data-pltdoc="x">inspect</a></span> expression has already been defined.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._data-class))"></a><span title="Provided from: racquel"><span class="RktSym">data-class</span></span><span class="hspace">&nbsp;</span><span class="RktVar">superclass-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">class-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is analagous to the <span class="RktSym"><a href="file:///Applications/Developer/Racket%20v5.3.6/doc/reference/createclass.html#%28form._%28%28lib._racket%2Fprivate%2Fclass-internal..rkt%29._class%29%29" class="RktStxLink" data-pltdoc="x">class</a></span> definition, where the interface expression is omitted.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._data-class~3f))"></a><span title="Provided from: racquel"><span class="RktSym">data-class?</span></span><span class="hspace">&nbsp;</span><span class="RktVar">sym</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._data-class-info))"></a><span title="Provided from: racquel"><span class="RktSym">data-class-info</span></span><span class="hspace">&nbsp;</span><span class="RktVar">cls</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><h3>2<tt>&nbsp;</tt><a name="(part._generation)"></a>Automated Data Class Generation</h3><p>A powerful feature of Racquel is the ability to generate <span class="RktSym">data-class</span> mappings automatically using
database schema meta-data. This allows for data classes to be defined for all the tables in
a database without the tedious effort of manually coding the mappings.</p><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._gen-data-class))"></a><span title="Provided from: racquel"><span class="RktSym">gen-data-class</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">table-name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:db-system-type</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:generate-joins?</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:generate-reverse-joins?</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:schema-name</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:inherits</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:table-name-normalizer</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:column-name-normalizer</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:join-name-normalizer</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:table-name-externalizer</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:print?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">prnt?</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">data-class-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">db-system-type-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:db-system-type</span><span class="hspace">&nbsp;</span><span class="RktVar">cardinality-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">generate-joins?-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:generate-joins?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">generate-reverse-joins?-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:generate-reverse-joins?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">schema-name-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:schema-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">inherits-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:inherits</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">table-name-normalizer-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:table-name-normalizer</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">column-name-normalizer-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:column-name-normalizer</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">join-name-normalizer-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:join-name-normalizer</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">table-name-externalizer-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:table-name-externalizer</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">print?-kw</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:print?</span></td></tr></table></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._default-table-name-normalizer))"></a><span title="Provided from: racquel"><span class="RktSym">default-table-name-normalizer</span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._default-column-name-normalizer))"></a><span title="Provided from: racquel"><span class="RktSym">default-column-name-normalizer</span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._default-join-name-normalizer))"></a><span title="Provided from: racquel"><span class="RktSym">default-join-name-normalizer</span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._default-table-name-externalizer))"></a><span title="Provided from: racquel"><span class="RktSym">default-table-name-externalizer</span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._set-odbc-dbsystem-type!))"></a><span title="Provided from: racquel"><span class="RktSym">set-odbc-dbsystem-type!</span></span><span class="hspace">&nbsp;</span><span class="RktVar">odbc-sys-type</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><h3>3<tt>&nbsp;</tt><a name="(part._persistence)"></a>Data Object Persistence</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._make-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">make-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-class</span><span class="hspace">&nbsp;</span><span class="RktVar">primary-key</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Load a data object from the database by primary key.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._save-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">save-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-object</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._insert-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">insert-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-object</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._update-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">update-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-object</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._delete-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">delete-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-object</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._select-data-object))"></a><span title="Provided from: racquel"><span class="RktSym">select-data-object</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-class</span><span class="hspace">&nbsp;</span><span class="RktVar">join-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">where-clause</span><span class="hspace">&nbsp;</span><span class="RktVar">rest</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._select-data-objects))"></a><span title="Provided from: racquel"><span class="RktSym">select-data-objects</span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-connection</span><span class="hspace">&nbsp;</span><span class="RktVar">data-class</span><span class="hspace">&nbsp;</span><span class="RktVar">join-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">where-clause</span><span class="hspace">&nbsp;</span><span class="RktVar">rest</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Save a data object.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._data-object-state))"></a><span title="Provided from: racquel"><span class="RktSym">data-object-state</span></span><span class="hspace">&nbsp;</span><span class="RktVar">sym</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._get-column))"></a><span title="Provided from: racquel"><span class="RktSym">get-column</span></span><span class="hspace">&nbsp;</span><span class="RktVar">sym</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._set-column!))"></a><span title="Provided from: racquel"><span class="RktSym">set-column!</span></span><span class="hspace">&nbsp;</span><span class="RktVar">sym</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._get-join))"></a><span title="Provided from: racquel"><span class="RktSym">get-join</span></span><span class="hspace">&nbsp;</span><span class="RktVar">sym</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a symbol is a data class.</div></p><h3>4<tt>&nbsp;</tt><a name="(part._rql)"></a>RQL: The Racquel Query Language</h3><h3>5<tt>&nbsp;</tt><a name="(part._mixins)"></a>Data Object Serialization</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._json-data-class-mixin))"></a><span title="Provided from: racquel"><span class="RktSym">json-data-class-mixin</span></span><span class="hspace">&nbsp;</span><span class="RktVar">class-definition</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines a mixin that implements the <span class="RktSym">externalize</span> and <span class="RktSym">internalize</span> methods.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._racquel/main..rkt)._xml-data-class-mixin))"></a><span title="Provided from: racquel"><span class="RktSym">xml-data-class-mixin</span></span><span class="hspace">&nbsp;</span><span class="RktVar">class-definition</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines a mixin that implements the <span class="RktSym">externalize</span> and <span class="RktSym">internalize</span> methods.</div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>